{"version":3,"sources":["widget.js"],"names":["script","document","currentScript","Array","prototype","slice","call","getElementsByTagName","pop","params","getAttribute","split","addScript","src","callback","s","createElement","setAttribute","onload","body","appendChild","url","addEventListener","event","main","widget_link","iframe","i","widget_links","getElementById","Object","keys","length","parentNode","replaceChild","iFrameResize","log","bodyMargin"],"mappings":";AAAA,IAAIA,EAASC,SAASC,eACTC,MAAMC,UAAUC,MAAMC,KAAKL,SAASM,qBAAqB,WAAWC,MAC7EC,GAAUT,EAAOU,aAAa,gBAAkB,IAAIC,MAAM,OAK9D,SAASC,EAAUC,EAAKC,GAChBC,IAAAA,EAAId,SAASe,cAAc,UAC/BD,EAAEE,aAAa,MAAOJ,GACtBE,EAAEG,OAASJ,EACXb,SAASkB,KAAKC,YAAYL,GAP9BM,IAAM,qCAAuCZ,EAAO,GAWpDR,SAASqB,iBAAiB,mBAAoB,SAACC,GAE3CX,EAAU,mFACDY,WACDC,IAAAA,EAAaC,EAAQC,EAAGC,EAEvBD,IADLC,EAAe3B,SAAS4B,eAAe,mBAClCF,EAAI,EAAGA,GAAKG,OAAOC,KAAKH,GAAcI,OAAQL,IAC/CF,EAAcG,GACdF,EAASzB,SAASe,cAAc,WACzBC,aAAa,MAAOI,KAC3BK,EAAOT,aAAa,KAAM,QAAUU,GACpCD,EAAOT,aAAa,cAAe,KACnCS,EAAOT,aAAa,YAAa,MACjCS,EAAOT,aAAa,kBAAmB,IACvCS,EAAOT,aAAa,QAAS,gGAC7BQ,EAAYQ,WAAWC,aAAaR,EAAQD,GAC5CU,aAAa,CAAEC,KAAK,EAAOC,WAAY,QAAU,SAAWV","file":"widget.js","sourceRoot":"../src","sourcesContent":["var script = document.currentScript ||\n/*Polyfill*/ Array.prototype.slice.call(document.getElementsByTagName('script')).pop();\nvar params = (script.getAttribute('plugin-data') || '').split(/, */);\n\nurl = \"https://musaeus-app.herokuapp.com/\" + params[0]; // Set the url\n\n// Function to add a script to the dom\nfunction addScript(src, callback) {\n    var s = document.createElement('script'); // Create our script tag\n    s.setAttribute('src', src); // Set the src attribute\n    s.onload = callback; // And call the callback when it has been loaded\n    document.body.appendChild(s); // And finaly append it to to body\n}\n\n// The main function\ndocument.addEventListener('DOMContentLoaded', (event) => {\n    // DOM Should be ready\n    addScript('https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.1/iframeResizer.min.js', main);\n    function main() {\n        var widget_link, iframe, i, widget_links; // Declare our variables\n        widget_links = document.getElementById('poll-app-widget'); // This is our widget class div, that we need to append our iframe to\n        for (i = 0; i <= Object.keys(widget_links).length; i++) { // We make a for loop if we have mutiple widgets to add an iframe to\n            widget_link = widget_links; // We make sure we're adding to the correct widget class\n            iframe = document.createElement('iframe'); // Let's create our iframe\n            iframe.setAttribute('src', url); // The website to use in the Iframe\n            iframe.setAttribute('id', 'frame' + i); // Set a unique id\n            iframe.setAttribute('frameborder', '0'); // Here we make the border = 0\n            iframe.setAttribute('scrolling', 'no'); // Make sure the iframe can't be scrolled\n            iframe.setAttribute('allowFullScreen', ''); // Set the allow fulscreen to true. Used for the video\n            iframe.setAttribute('style', 'min-width: 100%; min-height: 100%; border: none; margin: 0 auto; display: table; !important;');\n            widget_link.parentNode.replaceChild(iframe, widget_link); // And now we replace the old child with our new one (the iframe)\n            iFrameResize({ log: false, bodyMargin: '10px' }, '#frame' + i) // And we use Iframe Resizer library to determine the height\n        }\n    }\n});"]}